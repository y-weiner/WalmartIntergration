@model IEnumerable<WalmartItem>
@{
    ViewData["Title"] = "Walmart Intergration - Items";
}

<div class="text-center">
    <h1 class="display-4">@ViewData["Title"]</h1>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Mart</th>
                <th scope="col">Sku</th>
                <th scope="col">Wpid</th>
                <th scope="col">Upc</th>
                <th scope="col">Gtin</th>
                <th scope="col">Product Name</th>
                <th scope="col">Shelf</th>
                <th scope="col">Product Type</th>
                <th scope="col">Price</th>
                <th scope="col">Publish Status</th>
                <th scope="col">Unpublished Reasons</th>
                <th scope="col">Lifecycle Status</th>
            </tr>
        </thead>
        <tbody>
            @{ 
                int i = 1;
            }
            @foreach (WalmartItem item in @Model)
            {
            <tr>
                <th scope="row">@(i++)</th>
                <td>@item.Mart</td>
                <td>@item.Sku</td>
                <td>@item.Wpid</td>
                <td>@item.Upc</td>
                <td>@item.Gtin</td>
                <td>@item.ProductName</td>
                <td>
                    <ul>
                        @foreach (var shelf in item.GetShelfs())
                        {
                            <li>@shelf</li>
                        }
                    </ul>
                </td>
                <td>@item.ProductType</td>
                <td>@item.Price</td>
                <td>@item.PublishedStatus</td>
                <td>
                    <ul>
                        @foreach (var reason in item.UnpublishedReasons?.Reason ?? new string[0])
                        {
                            <li>@reason</li>
                        }
                     </ul>
                </td>
                <td>@item.LifeCycleStatus</td>
            </tr>
            }
        </tbody>
    </table>
</div>
